{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, resolveDirective as _resolveDirective, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"task-container flex p-4 gap-6\"\n};\nvar _hoisted_2 = {\n  \"class\": \"breadcrumbs text-gray-600 text-sm flex items-center gap-2 mb-4\"\n};\nvar _hoisted_3 = {\n  \"class\": \"text-gray-900 font-semibold\"\n};\nvar _hoisted_4 = {\n  \"class\": \"tabs flex items-center relative\"\n};\nvar _hoisted_5 = [\"onClick\"];\nvar _hoisted_6 = {\n  key: 0,\n  \"class\": \"relative\"\n};\nvar _hoisted_7 = {\n  key: 0,\n  \"class\": \"absolute bg-white shadow-lg rounded-lg mt-2 w-48 z-10\"\n};\nvar _hoisted_8 = {\n  \"class\": \"py-2\"\n};\nvar _hoisted_9 = [\"onClick\"];\nvar _hoisted_10 = {\n  \"class\": \"task-table-view bg-white rounded-b-lg p-6 space-y-6 shadow-lg transition-all\"\n};\nvar _hoisted_11 = {\n  \"class\": \"flex flex-cols-1 sm:flex-cols-2 lg:flex-cols-4 gap-4 mt-4\"\n};\nvar _hoisted_12 = [\"onClick\"];\nvar _hoisted_13 = {\n  \"class\": \"text-md\"\n};\nvar _hoisted_14 = {\n  \"class\": \"flex justify-between items-center\"\n};\nvar _hoisted_15 = {\n  \"class\": \"relative\"\n};\nvar _hoisted_16 = {\n  key: 0,\n  \"class\": \"dropdown bg-white shadow-lg rounded-lg mt-2 absolute top-full z-10 min-w-44\"\n};\nvar _hoisted_17 = {\n  \"class\": \"py-2\"\n};\nvar _hoisted_18 = [\"onClick\"];\nvar _hoisted_19 = {\n  \"class\": \"mt-6 overflow-x-auto\"\n};\nvar _hoisted_20 = {\n  \"class\": \"w-full border-collapse border border-gray-300 rounded-lg text-left\"\n};\nvar _hoisted_21 = {\n  \"class\": \"bg-gray-100 text-gray-700\"\n};\nvar _hoisted_22 = [\"onClick\"];\nvar _hoisted_23 = {\n  \"class\": \"p-4 border border-gray-300\"\n};\nvar _hoisted_24 = {\n  \"class\": \"p-4 border border-gray-300\"\n};\nvar _hoisted_25 = {\n  \"class\": \"p-4 border border-gray-300\"\n};\nvar _hoisted_26 = {\n  \"class\": \"p-4 border border-gray-300\"\n};\nvar _hoisted_27 = {\n  \"class\": \"p-4 border border-gray-300 text-center\"\n};\nvar _hoisted_28 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_CreateTaskPanel = _resolveComponent(\"CreateTaskPanel\");\n  var _component_UpdateTaskPanel = _resolveComponent(\"UpdateTaskPanel\");\n  var _directive_click_outside = _resolveDirective(\"click-outside\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Task Table Section (Shrinks when panel is open) \"), _createCommentVNode(\" Breadcrumbs \"), _createElementVNode(\"div\", {\n    \"class\": _normalizeClass([\"task-table-view rounded-2xl p-6 transition-all\", {\n      'shrink-table': $setup.showCreatePanel || $setup.showUpdatePanel\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"span\", {\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.$router.push('/task-dashboard');\n    }),\n    \"class\": \"hover:underline cursor-pointer\"\n  }, \" Task \"), _cache[6] || (_cache[6] = _createElementVNode(\"span\", {\n    \"class\": \"text-gray-400\"\n  }, [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-chevron-right\"\n  })], -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_3, _toDisplayString($setup.activeTabName), 1 /* TEXT */)]), _createCommentVNode(\" Tabs \"), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.visibleTabs, function (tab) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: tab.name,\n      onClick: function onClick($event) {\n        return $setup.setActiveTab(tab);\n      },\n      \"class\": _normalizeClass([\"tab flex justify-center items-center px-4 py-2 rounded-t-lg transition-colors min-w-56 min-h-12 cursor-pointer bg-white bg-opacity-50 border-t-2 drop-shadow-lg\", {\n        'text-blue-500 font-medium bg-white bg-opacity-100': $setup.activeTab === tab.name,\n        'text-gray-600 hover:text-gray-900': $setup.activeTab !== tab.name\n      }])\n    }, _toDisplayString(tab.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */)), _createCommentVNode(\" More Services Dropdown \"), $setup.hiddenTabs.length > 0 ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $setup.toggleMoreTabs && $setup.toggleMoreTabs.apply($setup, arguments);\n    }),\n    \"class\": \"cursor-pointer px-4 py-2 rounded-t-lg text-gray-600 hover:text-gray-900\"\n  }, _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n    \"class\": \"fas fa-ellipsis-h\"\n  }, null, -1 /* HOISTED */)])), $setup.showMoreTabs ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"ul\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.hiddenTabs, function (tab) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: tab.name,\n      onClick: function onClick($event) {\n        return $setup.setActiveTab(tab);\n      },\n      \"class\": \"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, _toDisplayString(tab.name), 9 /* TEXT, PROPS */, _hoisted_9);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)])), [[_directive_click_outside, $setup.closeMoreTabs]]) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [_createCommentVNode(\" Summary Boxes \"), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.taskCounts, function (count, type) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: type,\n      \"class\": _normalizeClass([$setup.getSummaryBoxClasses(type), \"summary-box rounded-lg px-4 py-4 flex flex-row justify-center items-center cursor-pointer transition-transform hover:scale-105 max-h-9 gap-2\"]),\n      onClick: function onClick($event) {\n        return $setup.filterByStatus(type);\n      }\n    }, [_createElementVNode(\"span\", _hoisted_13, _toDisplayString($setup.categories[type]), 1 /* TEXT */), _createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"text-md text-white flex items-center px-2 rounded\", $setup.getSummaryBoxClassesBg(type)])\n    }, _toDisplayString(count), 3 /* TEXT, CLASS */)], 10 /* CLASS, PROPS */, _hoisted_12);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Filter Dropdown \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $setup.toggleDropdown && $setup.toggleDropdown.apply($setup, arguments);\n    }),\n    \"class\": \"filter-button bg-gray-100 text-gray-600 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200 transition\"\n  }, [_createCommentVNode(\" <span>Filter by {{ selectedFilter || \\\"All\\\" }}</span> \"), _createElementVNode(\"span\", null, _toDisplayString($setup.categories[$setup.selectedFilter] || \"Filter\"), 1 /* TEXT */), _cache[8] || (_cache[8] = _createElementVNode(\"i\", {\n    \"class\": \"fas fa-chevron-down\"\n  }, null, -1 /* HOISTED */))]), $setup.showDropdown ? _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"ul\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, function (category, key) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: key,\n      onClick: function onClick($event) {\n        return $setup.selectFilterCategory(key);\n      },\n      \"class\": \"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\n    }, _toDisplayString(category), 9 /* TEXT, PROPS */, _hoisted_18);\n  }), 128 /* KEYED_FRAGMENT */))])])), [[_directive_click_outside, $setup.closeDropdown]]) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = function ($event) {\n      return $setup.showCreatePanel = true;\n    }),\n    \"class\": \"bg-blue-500 text-white px-4 py-2 rounded\"\n  }, \" + Create Task \")]), _createCommentVNode(\" Task Table \"), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"table\", _hoisted_20, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", _hoisted_21, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.tableHeaders, function (header) {\n    return _openBlock(), _createElementBlock(\"th\", {\n      key: header.key,\n      \"class\": \"p-4 border border-gray-300\"\n    }, _toDisplayString(header.label), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredTasks, function (task) {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: task.id,\n      onClick: function onClick($event) {\n        return $setup.openUpdateTask(task);\n      },\n      \"class\": \"hover:bg-gray-50 transition-colors cursor-pointer\"\n    }, [_createElementVNode(\"td\", _hoisted_23, _toDisplayString(task.task_id), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_24, _toDisplayString(task.subject), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_25, _toDisplayString(task.service), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_26, _toDisplayString($setup.formatDate(task.created_at)), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_27, [_createElementVNode(\"span\", {\n      \"class\": _normalizeClass([\"status-pill\", $setup.getStatusClasses(task.status)])\n    }, _toDisplayString(task.status), 3 /* TEXT, CLASS */)]), _createCommentVNode(\" <td class=\\\"p-4 border border-gray-300 text-center\\\">\\r\\n                  <i class=\\\"fas fa-ellipsis-h cursor-pointer text-gray-600\\\"></i>\\r\\n                </td> \")], 8 /* PROPS */, _hoisted_22);\n  }), 128 /* KEYED_FRAGMENT */)), $setup.filteredTasks.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_28, _cache[9] || (_cache[9] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    \"class\": \"p-4 text-center text-gray-500\"\n  }, \" No tasks found matching the current filters \", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true)])])])])], 2 /* CLASS */), _createCommentVNode(\" Task Creation Panel (Slides in when opened) \"), _createVNode(_component_CreateTaskPanel, {\n    isVisible: $setup.showCreatePanel,\n    onClose: _cache[4] || (_cache[4] = function ($event) {\n      return $setup.showCreatePanel = false;\n    }),\n    onTaskCreated: $setup.fetchTasks\n  }, null, 8 /* PROPS */, [\"isVisible\", \"onTaskCreated\"]), _createCommentVNode(\" Task Update Panel (Slides in when opened) \"), _createVNode(_component_UpdateTaskPanel, {\n    isVisible: $setup.showUpdatePanel,\n    task: $setup.selectedTask,\n    onClose: _cache[5] || (_cache[5] = function ($event) {\n      return $setup.showUpdatePanel = false;\n    }),\n    onTaskUpdated: $setup.fetchTasks\n  }, null, 8 /* PROPS */, [\"isVisible\", \"task\", \"onTaskUpdated\"])]);\n}","map":{"version":3,"names":["key","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_normalizeClass","$setup","showCreatePanel","showUpdatePanel","_hoisted_2","onClick","_cache","$event","_ctx","$router","push","_hoisted_3","_toDisplayString","activeTabName","_hoisted_4","_Fragment","_renderList","visibleTabs","tab","name","setActiveTab","activeTab","_hoisted_5","hiddenTabs","length","_hoisted_6","toggleMoreTabs","apply","arguments","showMoreTabs","_hoisted_7","_hoisted_8","_hoisted_9","closeMoreTabs","_hoisted_10","_hoisted_11","taskCounts","count","type","getSummaryBoxClasses","filterByStatus","_hoisted_13","categories","getSummaryBoxClassesBg","_hoisted_12","_hoisted_14","_hoisted_15","toggleDropdown","selectedFilter","showDropdown","_hoisted_16","_hoisted_17","category","selectFilterCategory","_hoisted_18","closeDropdown","_hoisted_19","_hoisted_20","_hoisted_21","tableHeaders","header","label","filteredTasks","task","id","openUpdateTask","_hoisted_23","task_id","_hoisted_24","subject","_hoisted_25","service","_hoisted_26","formatDate","created_at","_hoisted_27","getStatusClasses","status","_hoisted_22","_hoisted_28","colspan","_createVNode","_component_CreateTaskPanel","isVisible","onClose","onTaskCreated","fetchTasks","_component_UpdateTaskPanel","selectedTask","onTaskUpdated"],"sources":["C:\\Users\\RYZEN 5 5500\\Documents\\GitHub\\OUTSOURCE\\TMTOOL\\tmtool-prod-fe\\src\\views\\TaskTableView.vue"],"sourcesContent":["<template>\r\n  <div class=\"task-container flex p-4 gap-6\">\r\n    <!-- Task Table Section (Shrinks when panel is open) -->\r\n    <!-- Breadcrumbs -->\r\n    <div\r\n      class=\"task-table-view rounded-2xl p-6 transition-all\"\r\n      :class=\"{ 'shrink-table': showCreatePanel || showUpdatePanel }\"\r\n    >\r\n      <div\r\n        class=\"breadcrumbs text-gray-600 text-sm flex items-center gap-2 mb-4\"\r\n      >\r\n        <span\r\n          @click=\"$router.push('/task-dashboard')\"\r\n          class=\"hover:underline cursor-pointer\"\r\n        >\r\n          Task\r\n        </span>\r\n        <span class=\"text-gray-400\">\r\n          <i class=\"fas fa-chevron-right\"></i>\r\n        </span>\r\n        <span class=\"text-gray-900 font-semibold\">{{ activeTabName }}</span>\r\n      </div>\r\n\r\n      <!-- Tabs -->\r\n      <div class=\"tabs flex items-center relative\">\r\n        <div\r\n          v-for=\"tab in visibleTabs\"\r\n          :key=\"tab.name\"\r\n          @click=\"setActiveTab(tab)\"\r\n          class=\"tab flex justify-center items-center px-4 py-2 rounded-t-lg transition-colors min-w-56 min-h-12 cursor-pointer bg-white bg-opacity-50 border-t-2 drop-shadow-lg\"\r\n          :class=\"{\r\n            'text-blue-500 font-medium bg-white bg-opacity-100':\r\n              activeTab === tab.name,\r\n            'text-gray-600 hover:text-gray-900': activeTab !== tab.name,\r\n          }\"\r\n        >\r\n          {{ tab.name }}\r\n        </div>\r\n\r\n        <!-- More Services Dropdown -->\r\n        <div\r\n          v-if=\"hiddenTabs.length > 0\"\r\n          class=\"relative\"\r\n          v-click-outside=\"closeMoreTabs\"\r\n        >\r\n          <div\r\n            @click=\"toggleMoreTabs\"\r\n            class=\"cursor-pointer px-4 py-2 rounded-t-lg text-gray-600 hover:text-gray-900\"\r\n          >\r\n            <i class=\"fas fa-ellipsis-h\"></i>\r\n          </div>\r\n          <div\r\n            v-if=\"showMoreTabs\"\r\n            class=\"absolute bg-white shadow-lg rounded-lg mt-2 w-48 z-10\"\r\n          >\r\n            <ul class=\"py-2\">\r\n              <li\r\n                v-for=\"tab in hiddenTabs\"\r\n                :key=\"tab.name\"\r\n                @click=\"setActiveTab(tab)\"\r\n                class=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\r\n              >\r\n                {{ tab.name }}\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"task-table-view bg-white rounded-b-lg p-6 space-y-6 shadow-lg transition-all\"\r\n      >\r\n        <!-- Summary Boxes -->\r\n        <div class=\"flex flex-cols-1 sm:flex-cols-2 lg:flex-cols-4 gap-4 mt-4\">\r\n          <div\r\n            v-for=\"(count, type) in taskCounts\"\r\n            :key=\"type\"\r\n            :class=\"getSummaryBoxClasses(type)\"\r\n            @click=\"filterByStatus(type)\"\r\n            class=\"summary-box rounded-lg px-4 py-4 flex flex-row justify-center items-center cursor-pointer transition-transform hover:scale-105 max-h-9 gap-2\"\r\n          >\r\n            <span class=\"text-md\">\r\n              {{ categories[type] }}\r\n            </span>\r\n            <span\r\n              class=\"text-md text-white flex items-center px-2 rounded\"\r\n              :class=\"getSummaryBoxClassesBg(type)\"\r\n            >\r\n              {{ count }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Filter Dropdown -->\r\n        <div class=\"flex justify-between items-center\">\r\n          <div class=\"relative\">\r\n            <button\r\n              @click=\"toggleDropdown\"\r\n              class=\"filter-button bg-gray-100 text-gray-600 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-200 transition\"\r\n            >\r\n              <!-- <span>Filter by {{ selectedFilter || \"All\" }}</span> -->\r\n              <span>{{ categories[selectedFilter] || \"Filter\" }}</span>\r\n              <i class=\"fas fa-chevron-down\"></i>\r\n            </button>\r\n            <div\r\n              v-if=\"showDropdown\"\r\n              v-click-outside=\"closeDropdown\"\r\n              class=\"dropdown bg-white shadow-lg rounded-lg mt-2 absolute top-full z-10 min-w-44\"\r\n            >\r\n              <ul class=\"py-2\">\r\n                <li\r\n                  v-for=\"(category, key) in categories\"\r\n                  :key=\"key\"\r\n                  @click=\"selectFilterCategory(key)\"\r\n                  class=\"px-4 py-2 hover:bg-gray-100 cursor-pointer\"\r\n                >\r\n                  {{ category }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <button\r\n            @click=\"showCreatePanel = true\"\r\n            class=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n          >\r\n            + Create Task\r\n          </button>\r\n        </div>\r\n\r\n        <!-- Task Table -->\r\n        <div class=\"mt-6 overflow-x-auto\">\r\n          <table\r\n            class=\"w-full border-collapse border border-gray-300 rounded-lg text-left\"\r\n          >\r\n            <thead>\r\n              <tr class=\"bg-gray-100 text-gray-700\">\r\n                <th\r\n                  v-for=\"header in tableHeaders\"\r\n                  :key=\"header.key\"\r\n                  class=\"p-4 border border-gray-300\"\r\n                >\r\n                  {{ header.label }}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr\r\n                v-for=\"task in filteredTasks\"\r\n                :key=\"task.id\"\r\n                @click=\"openUpdateTask(task)\"\r\n                class=\"hover:bg-gray-50 transition-colors cursor-pointer\"\r\n              >\r\n                <td class=\"p-4 border border-gray-300\">{{ task.task_id }}</td>\r\n                <td class=\"p-4 border border-gray-300\">\r\n                  {{ task.subject }}\r\n                </td>\r\n                <td class=\"p-4 border border-gray-300\">{{ task.service }}</td>\r\n                <td class=\"p-4 border border-gray-300\">\r\n                  {{ formatDate(task.created_at) }}\r\n                </td>\r\n                <td class=\"p-4 border border-gray-300 text-center\">\r\n                  <span\r\n                    class=\"status-pill\"\r\n                    :class=\"getStatusClasses(task.status)\"\r\n                  >\r\n                    {{ task.status }}\r\n                  </span>\r\n                </td>\r\n                <!-- <td class=\"p-4 border border-gray-300 text-center\">\r\n                  <i class=\"fas fa-ellipsis-h cursor-pointer text-gray-600\"></i>\r\n                </td> -->\r\n              </tr>\r\n              <tr v-if=\"filteredTasks.length === 0\">\r\n                <td colspan=\"6\" class=\"p-4 text-center text-gray-500\">\r\n                  No tasks found matching the current filters\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Task Creation Panel (Slides in when opened) -->\r\n    <CreateTaskPanel\r\n      :isVisible=\"showCreatePanel\"\r\n      @close=\"showCreatePanel = false\"\r\n      @taskCreated=\"fetchTasks\"\r\n    />\r\n    <!-- Task Update Panel (Slides in when opened) -->\r\n    <UpdateTaskPanel\r\n      :isVisible=\"showUpdatePanel\"\r\n      :task=\"selectedTask\"\r\n      @close=\"showUpdatePanel = false\"\r\n      @taskUpdated=\"fetchTasks\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport CreateTaskPanel from \"../components/CreateTaskPanel.vue\";\r\nimport UpdateTaskPanel from \"../components/UpdateTaskPanel.vue\";\r\nimport taskService from \"../services/taskService\";\r\nimport { format } from \"date-fns\";\r\nexport default {\r\n  name: \"TaskTableView\",\r\n  // props: {\r\n  //   tasks: {\r\n  //     type: Array,\r\n  //     required: true,\r\n  //     default: () => [],\r\n  //   },\r\n  // },\r\n  components: {\r\n    CreateTaskPanel,\r\n    UpdateTaskPanel, // âœ… Register the component here\r\n  },\r\n  setup(props) {\r\n    const activeTab = ref(\"All Tasks\");\r\n    const showDropdown = ref(false);\r\n    const showMoreTabs = ref(false);\r\n    const selectedFilter = ref(\"\");\r\n    const sortKey = ref(\"dateCreated\");\r\n    const sortOrder = ref(\"desc\");\r\n    const showCreatePanel = ref(false);\r\n    const showUpdatePanel = ref(false);\r\n    const selectedTask = ref(null);\r\n    const tasks = ref([]); // API data storage\r\n\r\n    const categories = {\r\n      total: \"All Tasks\",\r\n      open: \"Open Tasks\",\r\n      inProgress: \"In Progress\",\r\n      done: \"Completed Tasks\",\r\n      overdue: \"Overdue Tasks\",\r\n    };\r\n\r\n    const tabs = [\r\n      { name: \"All Tasks\" },\r\n      { name: \"My Tasks\" },\r\n      { name: \"Created Tasks\" },\r\n      { name: \"SEO Service\" },\r\n      { name: \"Content Writing\" },\r\n    ];\r\n\r\n    const tableHeaders = [\r\n      { key: \"id\", label: \"Task ID\" },\r\n      { key: \"company\", label: \"Task\" },\r\n      { key: \"service\", label: \"Service\" },\r\n      { key: \"dateCreated\", label: \"Date Created\" },\r\n      { key: \"status\", label: \"Status\" },\r\n      // { key: \"actions\", label: \"Actions\" },\r\n    ];\r\n\r\n    // Fetch tasks from the API\r\n    const fetchTasks = async () => {\r\n      tasks.value = await taskService.getTasks();\r\n      console.log(tasks.value);\r\n    };\r\n\r\n    // Delete task function\r\n    const deleteTask = async (id) => {\r\n      if (confirm(\"Are you sure you want to delete this task?\")) {\r\n        await taskService.deleteTask(id);\r\n        fetchTasks(); // Refresh task list\r\n      }\r\n    };\r\n\r\n    const openUpdateTask = (task) => {\r\n      selectedTask.value = { ...task }; // Clone the task object\r\n      showUpdatePanel.value = true;\r\n      console.log(\"opened\", showUpdatePanel.value);\r\n    };\r\n\r\n    onMounted(() => {\r\n      fetchTasks();\r\n    });\r\n\r\n    const filteredTasks = computed(() => {\r\n      if (!selectedFilter.value) return tasks.value;\r\n      return tasks.value.filter((task) => {\r\n        if (selectedFilter.value === \"open\") return task.status === \"Open\";\r\n        if (selectedFilter.value === \"inProgress\")\r\n          return task.status === \"In Progress\";\r\n        if (selectedFilter.value === \"done\") return task.status === \"Completed\";\r\n        if (selectedFilter.value === \"overdue\")\r\n          return task.status === \"Overdue\";\r\n        return true;\r\n      });\r\n    });\r\n\r\n    const formatDate = (date) => {\r\n      if (!date || isNaN(new Date(date).getTime())) {\r\n        return \"Invalid Date\"; // Return fallback text if date is invalid\r\n      }\r\n      return format(new Date(date), \"MMM dd, yyyy\");\r\n    };\r\n\r\n    const getStatusClasses = (status) => {\r\n      const statusClasses = {\r\n        \"In Progress\": \"bg-blue-500\",\r\n        Completed: \"bg-green-500\",\r\n        Overdue: \"bg-red-500\",\r\n        Open: \"bg-yellow-500\",\r\n      };\r\n      return statusClasses[status] || \"bg-gray-500\";\r\n    };\r\n\r\n    const filterByStatus = (type) => {\r\n      selectedFilter.value = type;\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n      showDropdown.value = !showDropdown.value;\r\n    };\r\n    const closeDropdown = () => {\r\n      showDropdown.value = false;\r\n    };\r\n\r\n    // Computed properties\r\n    const visibleTabs = computed(() => tabs.slice(0, 3));\r\n    const hiddenTabs = computed(() => tabs.slice(3));\r\n    const activeTabName = computed(() => activeTab.value);\r\n\r\n    const displayedTasks = computed(() => tasks.value);\r\n\r\n    const taskCounts = computed(() => ({\r\n      total: displayedTasks.value.length,\r\n      open: displayedTasks.value.filter((task) => task.status === \"Open\")\r\n        .length,\r\n      inProgress: tasks.value.filter((task) => task.status === \"In Progress\")\r\n        .length,\r\n      done: displayedTasks.value.filter((task) => task.status === \"Completed\")\r\n        .length,\r\n      overdue: displayedTasks.value.filter((task) => task.status === \"Overdue\")\r\n        .length,\r\n    }));\r\n\r\n    const sortedAndFilteredTasks = computed(() => {\r\n      let filtered = [...props.tasks];\r\n\r\n      // Apply tab filter\r\n      if (activeTab.value !== \"All Tasks\") {\r\n        filtered = filtered.filter((task) => task.service === activeTab.value);\r\n      }\r\n\r\n      // Apply category filter\r\n      if (selectedFilter.value) {\r\n        filtered = filtered.filter((task) => {\r\n          switch (selectedFilter.value) {\r\n            case \"open\":\r\n              return task.status === \"Open\";\r\n            case \"done\":\r\n              return task.status === \"Completed\";\r\n            case \"overdue\":\r\n              return task.status === \"Overdue\";\r\n            default:\r\n              return true;\r\n          }\r\n        });\r\n      }\r\n\r\n      // Apply sorting\r\n      return filtered.sort((a, b) => {\r\n        const aValue = a[sortKey.value];\r\n        const bValue = b[sortKey.value];\r\n\r\n        if (sortOrder.value === \"asc\") {\r\n          return aValue > bValue ? 1 : -1;\r\n        }\r\n        return aValue < bValue ? 1 : -1;\r\n      });\r\n    });\r\n\r\n    // Methods\r\n    const setActiveTab = (tab) => {\r\n      activeTab.value = tab.name;\r\n      showMoreTabs.value = false;\r\n    };\r\n\r\n    const toggleMoreTabs = () => {\r\n      showMoreTabs.value = !showMoreTabs.value;\r\n    };\r\n\r\n    const closeMoreTabs = () => {\r\n      showMoreTabs.value = false;\r\n    };\r\n\r\n    const selectFilterCategory = (category) => {\r\n      selectedFilter.value = category;\r\n      showDropdown.value = false;\r\n    };\r\n\r\n    const sortBy = (key) => {\r\n      if (sortKey.value === key) {\r\n        sortOrder.value = sortOrder.value === \"asc\" ? \"desc\" : \"asc\";\r\n      } else {\r\n        sortKey.value = key;\r\n        sortOrder.value = \"asc\";\r\n      }\r\n    };\r\n\r\n    const getSummaryBoxClasses = (type) => {\r\n      const classes = {\r\n        total: \"bg-purple-100 text-purple-700\",\r\n        open: \"bg-orange-100 text-orange-700\",\r\n        inProgress: \"bg-blue-100 text-blue-400\",\r\n        done: \"bg-green-100 text-green-700\",\r\n        overdue: \"bg-red-100 text-red-700\",\r\n      };\r\n      return classes[type];\r\n    };\r\n\r\n    const getSummaryBoxClassesBg = (type) => {\r\n      const classes = {\r\n        total: \"bg-purple-700\",\r\n        open: \"bg-orange-700\",\r\n        inProgress: \"bg-blue-400\",\r\n        done: \"bg-green-700\",\r\n        overdue: \"bg-red-700\",\r\n      };\r\n      return classes[type];\r\n    };\r\n\r\n    return {\r\n      activeTab,\r\n      showDropdown,\r\n      showMoreTabs,\r\n      selectedFilter,\r\n      filteredTasks,\r\n      filterByStatus,\r\n      sortKey,\r\n      sortOrder,\r\n      categories,\r\n      tabs,\r\n      tableHeaders,\r\n      visibleTabs,\r\n      hiddenTabs,\r\n      activeTabName,\r\n      taskCounts,\r\n      sortedAndFilteredTasks,\r\n      displayedTasks,\r\n      setActiveTab,\r\n      toggleDropdown,\r\n      toggleMoreTabs,\r\n      closeDropdown,\r\n      closeMoreTabs,\r\n      selectFilterCategory,\r\n      sortBy,\r\n      formatDate,\r\n      getSummaryBoxClasses,\r\n      getSummaryBoxClassesBg,\r\n      showCreatePanel,\r\n      showUpdatePanel,\r\n      openUpdateTask,\r\n      selectedTask,\r\n      tasks,\r\n      fetchTasks,\r\n      deleteTask,\r\n      getStatusClasses,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.task-container {\r\n  display: flex;\r\n  width: 100%;\r\n}\r\n.task-table-view {\r\n  width: 100%;\r\n  transition: width 1s ease-in-out;\r\n}\r\n.shrink-table {\r\n  width: 60%;\r\n}\r\n.create-task-btn {\r\n  background: #3b82f6;\r\n  color: white;\r\n  padding: 10px 16px;\r\n  border-radius: 8px;\r\n  font-weight: bold;\r\n  transition: background 1s ease-in-out;\r\n}\r\n.create-task-btn:hover {\r\n  background: #2563eb;\r\n}\r\n\r\n.status-pill {\r\n  padding: 6px 12px;\r\n  border-radius: 8px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-pill.bg-blue-500 {\r\n  background: #3b82f6;\r\n  color: white;\r\n}\r\n\r\n.status-pill.bg-green-500 {\r\n  background: #10b981;\r\n  color: white;\r\n}\r\n\r\n.status-pill.bg-red-500 {\r\n  background: #ef4444;\r\n  color: white;\r\n}\r\n\r\n.status-pill.bg-yellow-500 {\r\n  background: #fbbf24;\r\n  color: white;\r\n}\r\n</style>\r\n"],"mappings":";;;;EACO,SAAM;AAA+B;;EAQpC,SAAM;AAAgE;;EAWhE,SAAM;AAA6B;;EAItC,SAAM;AAAiC;iBAxBlD;;EAAAA,GAAA;EA0CU,SAAM;;;EA1ChBA,GAAA;EAqDY,SAAM;;;EAEF,SAAM;AAAM;iBAvD5B;;EAqEQ,SAAM;AAA8E;;EAG/E,SAAM;AAA2D;kBAxE9E;;EAgFkB,SAAM;AAAS;;EAapB,SAAM;AAAmC;;EACvC,SAAM;AAAU;;EA9F/BA,GAAA;EA0Gc,SAAM;;;EAEF,SAAM;AAAM;kBA5G9B;;EAiIa,SAAM;AAAsB;;EAE7B,SAAM;AAAoE;;EAGpE,SAAM;AAA2B;kBAtInD;;EAuJoB,SAAM;AAA4B;;EAClC,SAAM;AAA4B;;EAGlC,SAAM;AAA4B;;EAClC,SAAM;AAA4B;;EAGlC,SAAM;AAAwC;;EA/JlEA,GAAA;AAAA;;;;;uBACEC,mBAAA,CAiMM,OAjMNC,UAiMM,GAhMJC,mBAAA,qDAAwD,EACxDA,mBAAA,iBAAoB,EACpBC,mBAAA,CAgLM;IA/KJ,SALNC,eAAA,EAKY,gDAAgD;MAAA,gBAC5BC,MAAA,CAAAC,eAAe,IAAID,MAAA,CAAAE;IAAe;MAE5DJ,mBAAA,CAaM,OAbNK,UAaM,GAVJL,mBAAA,CAKO;IAJJM,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEC,IAAA,CAAAC,OAAO,CAACC,IAAI;IAAA;IACpB,SAAM;KACP,QAED,G,0BACAX,mBAAA,CAEO;IAFD,SAAM;EAAe,IACzBA,mBAAA,CAAoC;IAAjC,SAAM;EAAsB,G,sBAEjCA,mBAAA,CAAoE,QAApEY,UAAoE,EAAAC,gBAAA,CAAvBX,MAAA,CAAAY,aAAa,iB,GAG5Df,mBAAA,UAAa,EACbC,mBAAA,CA2CM,OA3CNe,UA2CM,I,kBA1CJlB,mBAAA,CAYMmB,SAAA,QArCdC,WAAA,CA0BwBf,MAAA,CAAAgB,WAAW,EA1BnC,UA0BiBC,GAAG;yBADZtB,mBAAA,CAYM;MAVHD,GAAG,EAAEuB,GAAG,CAACC,IAAI;MACbd,OAAK,WAALA,OAAKA,CAAAE,MAAA;QAAA,OAAEN,MAAA,CAAAmB,YAAY,CAACF,GAAG;MAAA;MACxB,SA7BVlB,eAAA,EA6BgB,iKAAiK;6DAC5EC,MAAA,CAAAoB,SAAS,KAAKH,GAAG,CAACC,IAAI;6CAAoDlB,MAAA,CAAAoB,SAAS,KAAKH,GAAG,CAACC;;wBAMpLD,GAAG,CAACC,IAAI,gCApCrBG,UAAA;kCAuCQxB,mBAAA,4BAA+B,EAEvBG,MAAA,CAAAsB,UAAU,CAACC,MAAM,O,+BADzB5B,mBAAA,CA0BM,OA1BN6B,UA0BM,GArBJ1B,mBAAA,CAKM;IAJHM,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEL,MAAA,CAAAyB,cAAA,IAAAzB,MAAA,CAAAyB,cAAA,CAAAC,KAAA,CAAA1B,MAAA,EAAA2B,SAAA,CAAc;IAAA;IACtB,SAAM;gCAEN7B,mBAAA,CAAiC;IAA9B,SAAM;EAAmB,2B,IAGtBE,MAAA,CAAA4B,YAAY,I,cADpBjC,mBAAA,CAcM,OAdNkC,UAcM,GAVJ/B,mBAAA,CASK,MATLgC,UASK,I,kBARHnC,mBAAA,CAOKmB,SAAA,QA/DnBC,WAAA,CAyD8Bf,MAAA,CAAAsB,UAAU,EAzDxC,UAyDuBL,GAAG;yBADZtB,mBAAA,CAOK;MALFD,GAAG,EAAEuB,GAAG,CAACC,IAAI;MACbd,OAAK,WAALA,OAAKA,CAAAE,MAAA;QAAA,OAAEN,MAAA,CAAAmB,YAAY,CAACF,GAAG;MAAA;MACxB,SAAM;wBAEHA,GAAG,CAACC,IAAI,wBA9D3Ba,UAAA;wCAAAlC,mBAAA,e,gCA2C2BG,MAAA,CAAAgC,aAAa,E,IA3CxCnC,mBAAA,e,GAoEMC,mBAAA,CA+GM,OA/GNmC,WA+GM,GA5GJpC,mBAAA,mBAAsB,EACtBC,mBAAA,CAkBM,OAlBNoC,WAkBM,I,kBAjBJvC,mBAAA,CAgBMmB,SAAA,QAzFhBC,WAAA,CA0EoCf,MAAA,CAAAmC,UAAU,EA1E9C,UA0EoBC,KAAK,EAAEC,IAAI;yBADrB1C,mBAAA,CAgBM;MAdHD,GAAG,EAAE2C,IAAI;MACT,SA5EbtC,eAAA,EA4EoBC,MAAA,CAAAsC,oBAAoB,CAACD,IAAI,GAE3B,8IAA8I;MADnJjC,OAAK,WAALA,OAAKA,CAAAE,MAAA;QAAA,OAAEN,MAAA,CAAAuC,cAAc,CAACF,IAAI;MAAA;QAG3BvC,mBAAA,CAEO,QAFP0C,WAEO,EAAA7B,gBAAA,CADFX,MAAA,CAAAyC,UAAU,CAACJ,IAAI,mBAEpBvC,mBAAA,CAKO;MAJL,SApFdC,eAAA,EAoFoB,mDAAmD,EACjDC,MAAA,CAAA0C,sBAAsB,CAACL,IAAI;wBAEhCD,KAAK,wB,yBAvFtBO,WAAA;oCA4FQ9C,mBAAA,qBAAwB,EACxBC,mBAAA,CAiCM,OAjCN8C,WAiCM,GAhCJ9C,mBAAA,CAyBM,OAzBN+C,WAyBM,GAxBJ/C,mBAAA,CAOS;IANNM,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAEL,MAAA,CAAA8C,cAAA,IAAA9C,MAAA,CAAA8C,cAAA,CAAApB,KAAA,CAAA1B,MAAA,EAAA2B,SAAA,CAAc;IAAA;IACtB,SAAM;MAEN9B,mBAAA,4DAA6D,EAC7DC,mBAAA,CAAyD,cAAAa,gBAAA,CAAhDX,MAAA,CAAAyC,UAAU,CAACzC,MAAA,CAAA+C,cAAc,+B,0BAClCjD,mBAAA,CAAmC;IAAhC,SAAM;EAAqB,4B,GAGxBE,MAAA,CAAAgD,YAAY,G,+BADpBrD,mBAAA,CAeM,OAfNsD,WAeM,GAVJnD,mBAAA,CASK,MATLoD,WASK,I,kBARHvD,mBAAA,CAOKmB,SAAA,QApHrBC,WAAA,CA8G4Cf,MAAA,CAAAyC,UAAU,EA9GtD,UA8G0BU,QAAQ,EAAEzD,GAAG;yBADvBC,mBAAA,CAOK;MALFD,GAAG,EAAEA,GAAG;MACRU,OAAK,WAALA,OAAKA,CAAAE,MAAA;QAAA,OAAEN,MAAA,CAAAoD,oBAAoB,CAAC1D,GAAG;MAAA;MAChC,SAAM;wBAEHyD,QAAQ,wBAnH7BE,WAAA;mEAyG+BrD,MAAA,CAAAsD,aAAa,E,IAzG5CzD,mBAAA,e,GAwHUC,mBAAA,CAKS;IAJNM,OAAK,EAAAC,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEN,MAAA,CAAAC,eAAe;IAAA;IACvB,SAAM;KACP,iBAED,E,GAGFJ,mBAAA,gBAAmB,EACnBC,mBAAA,CAiDM,OAjDNyD,WAiDM,GAhDJzD,mBAAA,CA+CQ,SA/CR0D,WA+CQ,GA5CN1D,mBAAA,CAUQ,gBATNA,mBAAA,CAQK,MARL2D,WAQK,I,kBAPH9D,mBAAA,CAMKmB,SAAA,QA7IrBC,WAAA,CAwImCf,MAAA,CAAA0D,YAAY,EAxI/C,UAwIyBC,MAAM;yBADfhE,mBAAA,CAMK;MAJFD,GAAG,EAAEiE,MAAM,CAACjE,GAAG;MAChB,SAAM;wBAEHiE,MAAM,CAACC,KAAK;sCAIrB9D,mBAAA,CAgCQ,iB,kBA/BNH,mBAAA,CAyBKmB,SAAA,QA1KnBC,WAAA,CAkJ+Bf,MAAA,CAAA6D,aAAa,EAlJ5C,UAkJuBC,IAAI;yBADbnE,mBAAA,CAyBK;MAvBFD,GAAG,EAAEoE,IAAI,CAACC,EAAE;MACZ3D,OAAK,WAALA,OAAKA,CAAAE,MAAA;QAAA,OAAEN,MAAA,CAAAgE,cAAc,CAACF,IAAI;MAAA;MAC3B,SAAM;QAENhE,mBAAA,CAA8D,MAA9DmE,WAA8D,EAAAtD,gBAAA,CAApBmD,IAAI,CAACI,OAAO,kBACtDpE,mBAAA,CAEK,MAFLqE,WAEK,EAAAxD,gBAAA,CADAmD,IAAI,CAACM,OAAO,kBAEjBtE,mBAAA,CAA8D,MAA9DuE,WAA8D,EAAA1D,gBAAA,CAApBmD,IAAI,CAACQ,OAAO,kBACtDxE,mBAAA,CAEK,MAFLyE,WAEK,EAAA5D,gBAAA,CADAX,MAAA,CAAAwE,UAAU,CAACV,IAAI,CAACW,UAAU,mBAE/B3E,mBAAA,CAOK,MAPL4E,WAOK,GANH5E,mBAAA,CAKO;MAJL,SAjKpBC,eAAA,EAiK0B,aAAa,EACXC,MAAA,CAAA2E,gBAAgB,CAACb,IAAI,CAACc,MAAM;wBAEjCd,IAAI,CAACc,MAAM,wB,GAGlB/E,mBAAA,0KAES,C,iBAzKzBgF,WAAA;kCA2KwB7E,MAAA,CAAA6D,aAAa,CAACtC,MAAM,U,cAA9B5B,mBAAA,CAIK,MA/KnBmF,WAAA,EAAAzE,MAAA,QAAAA,MAAA,OA4KgBP,mBAAA,CAEK;IAFDiF,OAAO,EAAC,GAAG;IAAC,SAAM;KAAgC,+CAEtD,oB,MA9KhBlF,mBAAA,e,0BAqLIA,mBAAA,iDAAoD,EACpDmF,YAAA,CAIEC,0BAAA;IAHCC,SAAS,EAAElF,MAAA,CAAAC,eAAe;IAC1BkF,OAAK,EAAA9E,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEN,MAAA,CAAAC,eAAe;IAAA;IACtBmF,aAAW,EAAEpF,MAAA,CAAAqF;2DAEhBxF,mBAAA,+CAAkD,EAClDmF,YAAA,CAKEM,0BAAA;IAJCJ,SAAS,EAAElF,MAAA,CAAAE,eAAe;IAC1B4D,IAAI,EAAE9D,MAAA,CAAAuF,YAAY;IAClBJ,OAAK,EAAA9E,MAAA,QAAAA,MAAA,gBAAAC,MAAA;MAAA,OAAEN,MAAA,CAAAE,eAAe;IAAA;IACtBsF,aAAW,EAAExF,MAAA,CAAAqF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}