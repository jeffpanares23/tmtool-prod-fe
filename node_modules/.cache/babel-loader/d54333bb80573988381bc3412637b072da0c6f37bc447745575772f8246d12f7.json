{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/RYZEN 5 5500/Documents/GitHub/OUTSOURCE/TMTOOL/tmtool-prod-fe/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/RYZEN 5 5500/Documents/GitHub/OUTSOURCE/TMTOOL/tmtool-prod-fe/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport SubNavigation from \"../components/SubNavigation.vue\";\nimport WebsiteInput from \"../components/WebsiteInput.vue\";\nimport ValidationResults from \"../components/ValidationResults.vue\";\nimport ExportButtons from \"../components/ExportButtons.vue\";\nimport HistorySidebar from \"../components/HistorySidebar.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    SubNavigation: SubNavigation,\n    WebsiteInput: WebsiteInput,\n    ValidationResults: ValidationResults,\n    ExportButtons: ExportButtons,\n    HistorySidebar: HistorySidebar\n  },\n  data: function data() {\n    return {\n      loading: false,\n      results: null,\n      tabs: [\"SOP Compliance\", \"Content Analysis\"],\n      activeTab: \"SOP Compliance\",\n      history: {}\n    };\n  },\n  mounted: function mounted() {\n    this.fetchHistory();\n  },\n  methods: {\n    fetchHistory: function fetchHistory() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://127.0.0.1:8081/api/diagnostic-history\");\n            case 3:\n              response = _context.sent;\n              console.log(\"History API Response:\", response.data); // Debugging\n              _this.history = response.data;\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(\"Failed to fetch history:\", _context.t0);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }))();\n    },\n    handleHistorySelect: function handleHistorySelect(selectedResult) {\n      console.log(\"Selected History Data:\", selectedResult); // Debugging\n      this.results = selectedResult; // Ensure SOP Compliance details are included\n    },\n    handleResults: function handleResults(newResults) {\n      this.loading = false;\n      console.log(\"API Response:\", newResults);\n      this.results = newResults;\n      this.fetchHistory();\n    },\n    setLoading: function setLoading() {\n      this.loading = true;\n    }\n  }\n};","map":{"version":3,"names":["SubNavigation","WebsiteInput","ValidationResults","ExportButtons","HistorySidebar","axios","components","data","loading","results","tabs","activeTab","history","mounted","fetchHistory","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","console","log","t0","error","stop","handleHistorySelect","selectedResult","handleResults","newResults","setLoading"],"sources":["C:\\Users\\RYZEN 5 5500\\Documents\\GitHub\\OUTSOURCE\\TMTOOL\\tmtool-prod-fe\\src\\modules\\website-diagnostic-tool\\views\\DashboardView.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex flex-col lg:flex-row p-6\">\r\n    <!-- Sidebar -->\r\n    <div\r\n      class=\"w-full lg:w-1/4 bg-gray-100 overflow-y-auto fixed lg:relative h-full\"\r\n    >\r\n      <HistorySidebar :history=\"history\" @select=\"handleHistorySelect\" />\r\n    </div>\r\n\r\n    <!-- Main Content -->\r\n    <div\r\n      class=\"w-full lg:w-3/4 flex-1 p-4 space-y-6 overflow-y-auto ml-0 lg max-w-screen-xl\"\r\n    >\r\n      <SubNavigation />\r\n      <WebsiteInput @loading=\"setLoading\" @results=\"handleResults\" />\r\n      <ExportButtons v-if=\"results\" :results=\"results\" />\r\n\r\n      <!-- Tabs -->\r\n      <div>\r\n        <div class=\"tabs flex space-x-4 border-b\">\r\n          <button\r\n            v-for=\"tab in tabs\"\r\n            :key=\"tab\"\r\n            class=\"py-2 px-4\"\r\n            :class=\"{\r\n              'border-b-2 border-blue-500': activeTab === tab,\r\n              'text-gray-500': activeTab !== tab,\r\n            }\"\r\n            @click=\"activeTab = tab\"\r\n          >\r\n            {{ tab }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Tab Content -->\r\n      <div v-if=\"activeTab === 'SOP Compliance'\">\r\n        <ValidationResults v-if=\"results\" :results=\"results\" />\r\n      </div>\r\n      <div v-if=\"activeTab === 'Content Analysis'\">\r\n        <p class=\"text-gray-700\">Content Analysis feature coming soon...</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SubNavigation from \"../components/SubNavigation.vue\";\r\nimport WebsiteInput from \"../components/WebsiteInput.vue\";\r\nimport ValidationResults from \"../components/ValidationResults.vue\";\r\nimport ExportButtons from \"../components/ExportButtons.vue\";\r\nimport HistorySidebar from \"../components/HistorySidebar.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    SubNavigation,\r\n    WebsiteInput,\r\n    ValidationResults,\r\n    ExportButtons,\r\n    HistorySidebar,\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      results: null,\r\n      tabs: [\"SOP Compliance\", \"Content Analysis\"],\r\n      activeTab: \"SOP Compliance\",\r\n      history: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchHistory();\r\n  },\r\n  methods: {\r\n    async fetchHistory() {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://127.0.0.1:8081/api/diagnostic-history\"\r\n        );\r\n        console.log(\"History API Response:\", response.data); // Debugging\r\n        this.history = response.data;\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch history:\", error);\r\n      }\r\n    },\r\n    handleHistorySelect(selectedResult) {\r\n      console.log(\"Selected History Data:\", selectedResult); // Debugging\r\n      this.results = selectedResult; // Ensure SOP Compliance details are included\r\n    },\r\n    handleResults(newResults) {\r\n      this.loading = false;\r\n      console.log(\"API Response:\", newResults);\r\n      this.results = newResults;\r\n      this.fetchHistory();\r\n    },\r\n    setLoading() {\r\n      this.loading = true;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;AA+CA,OAAOA,aAAY,MAAO,iCAAiC;AAC3D,OAAOC,YAAW,MAAO,gCAAgC;AACzD,OAAOC,iBAAgB,MAAO,qCAAqC;AACnE,OAAOC,aAAY,MAAO,iCAAiC;AAC3D,OAAOC,cAAa,MAAO,kCAAkC;AAC7D,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,UAAU,EAAE;IACVN,aAAa,EAAbA,aAAa;IACbC,YAAY,EAAZA,YAAY;IACZC,iBAAiB,EAAjBA,iBAAiB;IACjBC,aAAa,EAAbA,aAAa;IACbC,cAAc,EAAdA;EACF,CAAC;EACDG,IAAI,WAAJA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,IAAI,EAAE,CAAC,gBAAgB,EAAE,kBAAkB,CAAC;MAC5CC,SAAS,EAAE,gBAAgB;MAC3BC,OAAO,EAAE,CAAC;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE;IACDD,YAAY,WAAZA,YAAYA,CAAA,EAAG;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEMrB,KAAK,CAACsB,GAAG,CAC9B,8CACF,CAAC;YAAA;cAFKN,QAAO,GAAAG,QAAA,CAAAI,IAAA;cAGbC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAET,QAAQ,CAACd,IAAI,CAAC,EAAE;cACrDS,KAAI,CAACJ,OAAM,GAAIS,QAAQ,CAACd,IAAI;cAAAiB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAO,EAAA,GAAAP,QAAA;cAE5BK,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAAR,QAAA,CAAAO,EAAO,CAAC;YAAA;YAAA;cAAA,OAAAP,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAEpD,CAAC;IACDc,mBAAmB,WAAnBA,mBAAmBA,CAACC,cAAc,EAAE;MAClCN,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEK,cAAc,CAAC,EAAE;MACvD,IAAI,CAAC1B,OAAM,GAAI0B,cAAc,EAAE;IACjC,CAAC;IACDC,aAAa,WAAbA,aAAaA,CAACC,UAAU,EAAE;MACxB,IAAI,CAAC7B,OAAM,GAAI,KAAK;MACpBqB,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEO,UAAU,CAAC;MACxC,IAAI,CAAC5B,OAAM,GAAI4B,UAAU;MACzB,IAAI,CAACvB,YAAY,CAAC,CAAC;IACrB,CAAC;IACDwB,UAAU,WAAVA,UAAUA,CAAA,EAAG;MACX,IAAI,CAAC9B,OAAM,GAAI,IAAI;IACrB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}